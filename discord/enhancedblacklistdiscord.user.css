/* ==UserStyle==
@name           Enhanced_Blacklist_Discord
@namespace      enhancedblacklistdiscord
@version        0.5.0
@updateURL      https://github.com/Lantea-Git/Skin_CSS/raw/main/discord/enhancedblacklistdiscord.user.css
@description    Enhanced Blacklist for Discord.
@author         Atlantis
@license        CC0-1.0
@preprocessor   stylus

@var select better-blacklist     "Better Blacklist (Experimental)  Â ðŸ§¹" {
    "Large": "2",
    "CSS4 (CPU+)": "4",
    "Light": "1",
    "Disable": "0",
}

==/UserStyle== */
@-moz-document domain("discord.com") {

    /* Code Source : https://github.com/Lantea-Git/Skin_CSS/blob/main/discord/enhancedblacklistdiscord.user.css */
    /* Others Skins : https://userstyles.world/user/Atlantis#styles */

    /* BETTER BLACK LIST (BETA/TEST) */
    if (better-blacklist >= 1) {
        /*HIDE BLOC MESSAGE with marging*/
        .visual-refresh ol[class*="scrollerInner"] [class*="blockedSystemMessage"] {
          display: none;
        }
        /*HIDE PROFILE-POPOUT menu right (Content)*/
        .user-profile-popout img[class*="preview"] + div[class*="body"] {
            display: none;
        }
        /*HIDE PROFILE-MODAL-BL*/
        .user-profile-modal-v2 > div[class*="inner"] > div[class*="background"] ~ div {
            display : none;
        }
    }

    if (better-blacklist >= 2) {
        /*HIDE BLOC MESSAGE without marging MORE AGRESSIVE*/
        .visual-refresh ol[class*="scrollerInner"] > div[class*="groupStart"] {
          display: none;
        }

        /*HIDE PROFILE-MODAL-BL*/
        div[class*="focusLock"]:not([aria-labelledby]) > div[class*="rootWithShadow"] > .user-profile-modal-v2:first-child {
            display : none;
        }
    }

    if (better-blacklist == 2) {
        /* HIDE CITATION BL*/
        .visual-refresh ol[class*="scrollerInner"] div[class*="replyBadge"],
        .visual-refresh ol[class*="scrollerInner"] div[class*="replyBadge"] ~ :not(.replyAvatar) {
            display: none;
        }
        /*catch spin bar in revert CSS3*/
        .visual-refresh ol[class*="scrollerInner"] div[class*="repliedMessage"] > div[class*="ClickableSpine"]:nth-last-of-type(3) {
             display: none;
        }

        /* OVERRIDE CSS RULE value for delete message CSS3*/
        .visual-refresh ol[class*="scrollerInner"] div[class*="repliedMessage"] > div[class*="replyBadge"]:nth-last-child(2),
        .visual-refresh ol[class*="scrollerInner"] div[class*="repliedMessage"] > div[class*="replyBadge"] + div[class*="repliedTextPreview"],
        .visual-refresh ol[class*="scrollerInner"] div[class*="repliedMessage"] > div[class*="ClickableSpine"]:nth-last-child(3) {
             display: inherit !important;
        }

        /*HIDE PROFILE-POPOUT menu right MORE AGRESSIVE*/
        .user-profile-popout div[class*="inner"] > div[class*="container"] > img[class*="preview"] {
             display: none;
        }

    }

    if (better-blacklist == 4) {
        /* HIDE CITATION BL HAS:CSS4 */
        .visual-refresh ol[class*="scrollerInner"] div[class*="repliedMessage"]:has(> div[class*="replyBadge"] + span[class*="username"]) {
            display: none;
        }

        /*HIDE PROFILE-POPOUT HAS:CSS4 */
        .user-profile-popout:has(> div[class*="inner"] > div[class*="container"] > img[class*="preview"]) {
            display: none;
        }

        /*HIDE PROFILE-MODAL-BL*/
        div[class*="scrim"]:has(+ div[class*="layer"] > div[class*="focusLock"]:not([aria-labelledby]) > div[class*="rootWithShadow"] > .user-profile-modal-v2:first-child) {
            opacity : 0 !important;
        }
    }
}
