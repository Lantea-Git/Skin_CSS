/* ==UserStyle==
@name           Enhanced_Blacklist_Discord
@namespace      enhancedblacklistdiscord
@version        0.8.5
@updateURL      https://github.com/Lantea-Git/Skin_CSS/raw/main/discord/enhancedblacklistdiscord.user.css
@description    Enhanced Blacklist for Discord.
@author         Atlantis
@license        CC0-1.0
@preprocessor   stylus

@var select better_blacklist     "Better Blacklist (Experimental)  Â ðŸ§¹" {
    "Large": "2",
    "CSS4 (CPU+)": "4",
    "Light": "1",
    "Disable": "0",
}

==/UserStyle== */
@-moz-document domain("discord.com") {

    /* Code Source : https://github.com/Lantea-Git/Skin_CSS/blob/main/discord/enhancedblacklistdiscord.user.css */
    /* Others Skins : https://userstyles.world/user/Atlantis#styles */

    /* BETTER BLACK LIST (BETA/TEST) */
    if (better_blacklist >= 1) {
        /*HIDE BLOC MESSAGE with marging*/
        .visual-refresh ol[class^="scrollerInner_"] [class^="blockedSystemMessage"] {
          display: none;
        }
        /*HIDE PROFILE-POPOUT menu right (Content)*/
        .user-profile-popout img[class^="preview_"] + div[class^="body_"] {
            display: none;
        }
        /*HIDE PROFILE-MODAL-BL*/
        .user-profile-modal-v2 > div[class^="inner_"] > div[class^="background_"]:not([class*="backgroundImage"]) ~ div {
            display : none;
        }
    }

    if (better_blacklist >= 2) {
        /*HIDE BLOC MESSAGE without marging MORE AGRESSIVE*/
        .visual-refresh ol[class^="scrollerInner_"] > div[class^="groupStart_"]:not([data-flash]) {
          display: none;
        }

        /*HIDE PROFILE-MODAL-BL*/
        div[class^="focusLock_"]:not([aria-labelledby]) > div[class*="rootWithShadow_"] > .user-profile-modal-v2:first-child {
            display : none;
        }
    }

    if (better_blacklist >= 2) {
        /* HIDE CITATION BL*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="replyBadge_"],
        .visual-refresh ol[class^="scrollerInner_"] div[class^="replyBadge_"] ~ span,
        .visual-refresh ol[class^="scrollerInner_"] div[class^="replyBadge_"] ~ div {
            display: none;
        }
        /*catch spin bar in revert CSS3*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class*="ClickableSpine_"]:nth-last-of-type(3) {
             display: none;
        }
    }
    if (better_blacklist == 2) {

        /* OVERRIDE CSS RULE value for delete message CSS3*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class^="replyBadge_"]:nth-last-child(2),
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class^="replyBadge_"] + div[class^="repliedTextPreview_"],
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class*="ClickableSpine_"]:nth-last-child(3) {
             display: inherit !important;
        }

        /*HIDE PROFILE-POPOUT menu right MORE AGRESSIVE*/
        .user-profile-popout div[class^="inner_"] > div[class^="container_"] > img[class^="preview_"] {
             display: none;
        }

    }

    if (better_blacklist == 4) {
        /* HIDE CITATION BL HAS:CSS4 */
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"]:has(> div[class^="replyBadge_"] + span[class^="username_"]) {
            display: none;
        }

        /*HIDE PROFILE-POPOUT HAS:CSS4 */
        .user-profile-popout:has(> div[class^="inner_"] > div[class^="container_"] > img[class^="preview_"]) {
            display: none;
        }

        /*HIDE PROFILE-MODAL-BL*/
        div[class^="scrim_"]:has(+ div[class^="layer_"] > div[class^="focusLock_"]:not([aria-labelledby]) > div[class*="rootWithShadow_"] > .user-profile-modal-v2:first-child) {
            opacity : 0 !important;
        }
    }
}
