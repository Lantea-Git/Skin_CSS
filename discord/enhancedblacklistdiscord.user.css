/* ==UserStyle==
@name           Enhanced_Blacklist_Discord
@namespace      enhancedblacklistdiscord
@version        0.2.9
@updateURL      https://userstyles.world/api/style/23481.user.css
@description    Enhanced Blacklist for Discord.
@author         Atlantis
@license        CC0-1.0
@preprocessor   stylus

@var select better-blacklist     "Better Blacklist (Experimental)  Â ðŸ§¹" {
    "Large": "2",
    "CSS4 (CPU+)": "4",
    "Light": "1",
    "Disable": "0",
}
@var checkbox hide-sponso     "Hide also App/Sponsors ðŸŽ® " 1


==/UserStyle== */
@-moz-document domain("discord.com") {

    if (hide-sponso) {
        /*Hide App/Sponsors ðŸŽ®*/
        .app-launcher-entrypoint[class^="buttonContainer_"] {
            display: none;
        }
    }

    /* BETTER BLACK LIST (BETA/TEST) */
    if (better-blacklist >= 1) {
        /*HIDE BLOC MESSAGE with marging*/
        .visual-refresh ol[class^="scrollerInner_"] [class^="blockedSystemMessage"] {
          display: none;
        }
        /*HIDE PROFILE-POPOUT menu right (Content)*/
        .user-profile-popout img[class^="preview_"] + div[class^="body__"] {
            display: none;
        }
        /*HIDE PROFILE-MODAL-BL*/
        .user-profile-modal-v2 > div[class^="inner_"] > div[class^="background_"] ~ div {
            display : none;
        }
    }

    if (better-blacklist >= 2) {
        /*HIDE BLOC MESSAGE without marging MORE AGRESSIVE*/
        .visual-refresh ol[class^="scrollerInner_"] > div[class^="groupStart__"] {
          display: none;
        }

        /*HIDE PROFILE-MODAL-BL*/
        /*
        div[class^="root_"] > .user-profile-modal-v2:first-child {
            display : none;
        }
        */
    }

    if (better-blacklist == 2) {
        /* HIDE CITATION BL*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="replyBadge_"],
        .visual-refresh ol[class^="scrollerInner_"] div[class^="replyBadge_"] ~ :not(.replyAvatar_) {
            display: none;
        }
        /*catch spin bar in revert CSS3*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class*="ClickableSpine_"]:nth-last-of-type(3) {
             display: none;
        }

        /* OVERRIDE CSS RULE value for delete message CSS3*/
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class^="replyBadge_"]:nth-last-child(2),
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class^="replyBadge_"] + div[class^="repliedTextPreview_"],
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"] > div[class*="ClickableSpine_"]:nth-last-child(3) {
             display: inherit !important;
        }

        /*HIDE PROFILE-POPOUT menu right MORE AGRESSIVE*/
        .user-profile-popout div[class^="inner_"] > div[class^="container_"] > img[class^="preview_"] {
          display: none;
        }
    }

    if (better-blacklist == 4) {
        /* HIDE CITATION BL HAS:CSS4 */
        .visual-refresh ol[class^="scrollerInner_"] div[class^="repliedMessage_"]:has(> div[class^="replyBadge_"] + span[class^="username_"]) {
            display: none;
        }

        /*HIDE PROFILE-POPOUT HAS:CSS4 */
        .user-profile-popout:has(> div[class^="inner_"] > div[class^="container_"] > img[class^="preview_"]) {
            display: none;
        }

        /*HIDE PROFILE-MODAL-BL CC4*/
        /* TOO COSUME FOR THE MOMENT
        div[class^="backdrop_"]:has(+ div[class^="layer_"] > div > div[class^="root_"] > .user-profile-modal-v2:first-child) {
            opacity : 0;
        }
        */
    }
}
