/* ==UserStyle==
@name           No_Header_Discord_Pub
@namespace      noheaderdiscordpub
@version        4.8.3
@updateURL      https://userstyles.world/api/style/21588.user.css
@description    Remove the ad tabs and the top layout on Discord.
@author         Atlantis
@license        CC0-1.0
@preprocessor   stylus

@var checkbox hide-gift-icon     "Hide also Nitro Popup in textarea üéÅÔ∏é" 0
@var checkbox hide-sponso        "Hide also App/Sponsors in textarea ‚ùñ " 0

==/UserStyle== */
@-moz-document domain("discord.com") {

    /*-----BAR-HIDE-START------*/
    /*redifine layout grid - hide header*/
    .visual-refresh [class^="base_"] {
        /*grid-template-rows: ... --custom-app-top-bar-height ...*/
        --custom-app-top-bar-height : 0px;
    }
    /* hide top bar elements without changing space (for max compatibility with skins transparency) */
    .visual-refresh [class^="base_"] > [class^="bar_"] > *:not([class^="trailing_"]) {
        visibility: hidden;
    }

    /*hide "checkpoint" and info_link*/
    .visual-refresh [class^="trailing_"] > div[class^="button_"][class*="iconWrapper_"]:not([data-jump-section="global"]),
    .visual-refresh [class^="trailing_"] > a:first-of-type {
        display: none;
    }
    /*replace inbox*/
    .visual-refresh [class^="trailing_"] {
        top: 24px;
        z-index: 500;
    }

    /*change space for inbox */
    .visual-refresh div[class^="upperContainer__"] {
        margin-right: 43px;
    }

    /* !///!!CSS4 HAS OVERRIDE!!///! */
    /* Laggy (quick patch) */
    .visual-refresh [class^="bar_"]:has(> div) [class^="trailing_"] > div[class^="button_"][class*="iconWrapper_"]:not([data-jump-section="global"]) {
        display: flex !important;
    }
    /*change space for inbox + bouton */
    .visual-refresh [class^="bar_"]:has([class^="trailing_"] > div[class^="button_"][class*="iconWrapper_"]:not([data-jump-section="global"])) + [class^="content_"] div[class^="upperContainer__"] {
        margin-right: 90px;
    }
    /* !///!!CSS4 HAS END!!///! */

    /* OVERRIDE CSS RULE when right panel is open */
    .visual-refresh div[class*="threadSidebarOpen_"] div[class^="upperContainer__"] {
        margin-right: initial !important;
    }

    /*MOD menu, notice ON inbox*/
    .visual-refresh [class^="guildSidebar_"],
    .visual-refresh div[class^="bar_"] + div[class^="notice__"] {
        z-index: 600;
    }

    /*margin top left menu*/
    .visual-refresh [class^="sidebar_"] > [class*="guilds_"] {
        margin-top: 10px;
    }
    /*-----BAR-HIDE-END------*/

    if (hide-gift-icon) {
        /*Nitro gift popup textarea üéÅÔ∏é*/
        div[class^="buttons__"] > [class^="button__"][aria-haspopup="dialog"]:first-child,
        div[class^="textArea_"] + [class^="buttons__"] > div:not(.expression-picker-chat-input-button):first-child {
            display: none;
        }
    }

    if (hide-sponso) {
        /*Hide App/Sponsors ‚ùñ*/
        .app-launcher-entrypoint[class^="buttonContainer_"] {
            display: none;
        }
    }
    /*END-Optional---------*/
}
